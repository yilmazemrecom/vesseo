{% extends "base.html" %}

{% block title %}SEO Analizi - Veseo{% endblock %}

{% block content %}
<div class="container-fluid mt-4">
    <div class="text-center mb-4">
        <h2 class="display-5 fw-bold">
            ğŸš€ Seo Analiz
        </h2>
        <p class="lead text-muted">Haber sitenizdeki yazÄ±nÄ±zÄ±n SEO durumunu kontrol edin!</p>
    </div>
    <!-- URL GiriÅŸ AlanÄ± -->
    <div class="card shadow-lg border-0 rounded-4 p-4 my-4 animate-fade-in">
        <form method="post" class="d-flex">
            <input type="text" id="url" name="url" class="form-control form-control-lg rounded-pill me-2 shadow-sm" placeholder="Analiz edilecek URL Ã–rn: site.com/seonun-onemi-nedir" required>
            <button type="submit" class="btn btn-primary btn-lg rounded-pill px-4 shadow-sm">ğŸ” Analiz Et</button>
        </form>
    </div>

    {% if url %}
    <div class="mt-4">
        <!-- SEO Metrikleri KartlarÄ± -->
        <div class="row g-4 text-center">
            {% set metrics = [
                {"label": "BaÅŸlÄ±k UzunluÄŸu", "value": seo_analysis.title_length},
                {"label": "Kelime SayÄ±sÄ±", "value": seo_analysis.word_count},
                {"label": "Meta AÃ§Ä±klamasÄ±", "value": seo_analysis.meta_desc_length},
                {"label": "GÃ¶rseller", "value": seo_analysis.image_count},
                {"label": "Ä°Ã§ Linkler", "value": seo_analysis.internal_link_count},
                {"label": "DÄ±ÅŸ Linkler", "value": seo_analysis.external_link_count},
                {"label": "H1 BaÅŸlÄ±k SayÄ±sÄ±", "value": seo_analysis.h1_count},
                {"label": "H2 BaÅŸlÄ±k SayÄ±sÄ±", "value": seo_analysis.h2_count}
            ] %}

            {% for metric in metrics %}
            <div class="col-md-3">
                <div class="card shadow-lg border-0 p-4 animate-slide-up">
                    <h6 class="fw-bold">{{ metric.label }}</h6>
                    <p class="display-6 fw-bold" style="color: {% if metric.value == 0 %}#dc3545{% elif metric.value < 3 %}#ffc107{% else %}#28a745{% endif %};">
                        {{ metric.value }}
                    </p>
                </div>
            </div>
            {% endfor %}
        </div>


        <!-- SEO Ã–nerileri AlanÄ± -->
        {% if recommendations %}
        <div class="mt-5">
            <h4 class="fw-bold">ğŸš€ SEO Ã–nerileri</h4>
            <div class="card shadow-lg border-0 rounded-4 p-4 animate-fade-in">
                <ul class="list-unstyled">
                    {% for rec in recommendations %}
                    <li class="p-3 mb-2 rounded-3 shadow-sm" style="border-left: 5px solid {% if 'kÃ¶tÃ¼' in rec %}#dc3545{% elif 'geliÅŸtirilebilir' in rec %}#ffc107{% else %}#28a745{% endif %}; background-color: #f8f9fa;">
                        <strong>{% if 'kÃ¶tÃ¼' in rec %}ğŸ”´ {% elif 'geliÅŸtirilebilir' in rec %}ğŸŸ¡ {% else %}ğŸŸ¢ {% endif %} {{ rec.split(':')[0] }}</strong><br>
                        <span class="text-muted">{{ rec.split(':')[1] }}</span>
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        {% endif %}

        <!-- Meta Etiketleri KartÄ± -->
        <div class="mt-5">
            <h4 class="fw-bold">ğŸ“Œ Meta Etiketleri</h4>
            <div class="card shadow-lg border-0 rounded-4 p-4 animate-fade-in">
                <div class="mb-2"><strong class="text-primary">Title:</strong> {{ title }}</div>
                <div class="mb-2"><strong class="text-primary">Description:</strong> {{ meta_desc }}</div>
                <div class="mb-2"><strong class="text-primary">Keywords:</strong> {% if keywords %}{{ keywords }}{% else %}BulunamadÄ±{% endif %}</div>
            </div>
        </div>
    </div>
    {% endif %}
</div>


{% endblock %}